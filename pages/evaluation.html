<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avalia√ß√µes - BioField Intelligence</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="../auth.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-atom"></i>
                <h1>BioField Intelligence</h1>
            </div>
            <nav class="nav">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="evaluation.html" class="nav-link active">Avalia√ß√µes</a>
                <a href="reports.html" class="nav-link">Relat√≥rios</a>
                <a href="organization.html" class="nav-link">Organiza√ß√£o</a>
                <a href="settings.html" class="nav-link">Configura√ß√µes</a>
                <button id="logoutBtn" class="nav-link logout-btn" style="background: none; border: none; color: #e74c3c; cursor: pointer;">
                    <i class="fas fa-sign-out-alt"></i> SAIR (ADMIN)
                </button>
            </nav>
            <div class="user-profile">
                <i class="fas fa-user-circle"></i>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Evaluation Section -->
            <section class="section active">
                <div class="section-header">
                    <h2>üìù Registro de Avalia√ß√µes Bioenerg√©ticas</h2>
                    <p>Registre avalia√ß√µes de ambientes f√≠sicos para an√°lise e regenera√ß√£o energ√©tica</p>
                </div>
                
                <div class="evaluation-container">
                    <div class="evaluation-form-container">
                        <form id="biofield-evaluation-form" class="evaluation-form">
                            <div class="form-group">
                                <label for="location">Local Avaliado</label>
                                <select id="location" name="location" required>
                                    <option value="">Selecione um local</option>
                                    <option value="recepcao">Recep√ß√£o</option>
                                    <option value="sala-tecnica">Sala T√©cnica</option>
                                    <option value="sala-meditacao">Sala de Medita√ß√£o</option>
                                    <option value="cozinha">Cozinha</option>
                                    <option value="novo">Novo Local</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="bio-index">√çndice Bioenerg√©tico (0-100)</label>
                                <input type="number" id="bio-index" name="bio-index" min="0" max="100" required>
                                <div class="range-indicator">
                                    <span class="range-label">Baixo</span>
                                    <div class="range-bar">
                                        <div class="range-fill" id="bio-index-fill"></div>
                                    </div>
                                    <span class="range-label">Alto</span>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="vibrational-coherence">Coer√™ncia Vibracional (0-100)</label>
                                <input type="number" id="vibrational-coherence" name="vibrational-coherence" min="0" max="100" required>
                                <div class="range-indicator">
                                    <span class="range-label">Baixo</span>
                                    <div class="range-bar">
                                        <div class="range-fill" id="coherence-fill"></div>
                                    </div>
                                    <span class="range-label">Alto</span>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="info-quality">Qualidade Informacional</label>
                                <select id="info-quality" name="info-quality" required>
                                    <option value="">Selecione a qualidade</option>
                                    <option value="Alta">Alta</option>
                                    <option value="M√©dia">M√©dia</option>
                                    <option value="Baixa">Baixa</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="em-noise">Ru√≠do Eletromagn√©tico</label>
                                <select id="em-noise" name="em-noise" required>
                                    <option value="">Selecione o n√≠vel</option>
                                    <option value="Baixa">Baixa</option>
                                    <option value="Moderada">Moderada</option>
                                    <option value="Alta">Alta</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="notes">Observa√ß√µes</label>
                                <textarea id="notes" name="notes" rows="4" placeholder="Descreva detalhes sobre o ambiente, interven√ß√µes realizadas, etc."></textarea>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn-primary">
                                    <i class="fas fa-save"></i> Salvar Avalia√ß√£o
                                </button>
                                <button type="button" class="btn-secondary" onclick="clearForm()">
                                    <i class="fas fa-eraser"></i> Limpar
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="evaluation-history">
                        <h3>Hist√≥rico de Avalia√ß√µes</h3>
                        <div id="evaluation-list" class="evaluation-list">
                            <!-- Lista ser√° populada dinamicamente -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="../script.js"></script>
    <script>
        // Evaluation page specific functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for script.js to load completely
            setTimeout(() => {
                // Initialize BioField Manager if not already done
                if (typeof BioFieldManager !== 'undefined' && !window.bioFieldManager) {
                    window.bioFieldManager = new BioFieldManager();
                }
                
                // Load existing evaluations
                if (window.bioFieldManager && typeof window.bioFieldManager.loadEvaluations === 'function') {
                    window.bioFieldManager.loadEvaluations();
                }
            }, 100);
            
            // Verificar autentica√ß√£o ao carregar a p√°gina
            if (!authManager.isAuthenticated()) {
                window.location.href = '../index.html';
                return;
            }
            
            // Configurar logout
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    authManager.logout();
                    window.location.href = '../index.html';
                });
            }
        });
    </script>
</body>
</html>
